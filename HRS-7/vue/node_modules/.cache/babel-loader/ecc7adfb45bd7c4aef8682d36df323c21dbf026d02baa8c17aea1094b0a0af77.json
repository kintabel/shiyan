{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"patient-appeal-list\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 页面标题 \"), _cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"患者申诉列表\", -1 /* HOISTED */)), _createCommentVNode(\" 表格 \"), _createVNode(_component_el_table, {\n    data: $data.appealList,\n    stripe: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"appealOrder\",\n      label: \"申诉单号\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"patientName\",\n      label: \"患者姓名\"\n    }), _createCommentVNode(\"      <el-table-column prop=\\\"hospital\\\" label=\\\"医院\\\"></el-table-column>\"), _createCommentVNode(\"      <el-table-column prop=\\\"department\\\" label=\\\"部门\\\"></el-table-column>\"), _createCommentVNode(\"      <el-table-column prop=\\\"doctor\\\" label=\\\"医生\\\"></el-table-column>\"), _createCommentVNode(\"      <el-table-column prop=\\\"file\\\" label=\\\"附件\\\"></el-table-column>\"), _createCommentVNode(\"      <el-table-column prop=\\\"appealContent\\\" label=\\\"申诉内容\\\"></el-table-column>\"), _createVNode(_component_el_table_column, {\n      prop: \"appealTime\",\n      label: \"申诉时间\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        size: \"small\",\n        onClick: $event => $options.viewAppealDetail(scope.row.appealOrder)\n      }, {\n        default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"查看详情\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createVNode(_component_el_pagination, {\n    background: \"\",\n    layout: \"prev, pager, next\",\n    \"current-page\": $data.currentPage,\n    \"page-size\": $data.pageSize,\n    total: $data.totalAppointments,\n    onCurrentChange: $options.handlePageChange\n  }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\", \"onCurrentChange\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_createVNode","_component_el_table","data","$data","appealList","stripe","_component_el_table_column","prop","label","default","_withCtx","scope","_component_el_button","type","size","onClick","$event","$options","viewAppealDetail","row","appealOrder","_cache","_component_el_pagination","background","layout","currentPage","pageSize","total","totalAppointments","onCurrentChange","handlePageChange"],"sources":["E:\\专业设计项目\\HRS\\HRS-7\\vue\\src\\views\\hospitalAdmin\\PatientAppealList.vue"],"sourcesContent":["<template>\r\n  <div class=\"patient-appeal-list\">\r\n    <!-- 页面标题 -->\r\n    <h1>患者申诉列表</h1>\r\n    <!-- 表格 -->\r\n    <el-table :data=\"appealList\" stripe>\r\n      <el-table-column prop=\"appealOrder\" label=\"申诉单号\"></el-table-column>\r\n      <el-table-column prop=\"patientName\" label=\"患者姓名\"></el-table-column>\r\n<!--      <el-table-column prop=\"hospital\" label=\"医院\"></el-table-column>-->\r\n<!--      <el-table-column prop=\"department\" label=\"部门\"></el-table-column>-->\r\n<!--      <el-table-column prop=\"doctor\" label=\"医生\"></el-table-column>-->\r\n<!--      <el-table-column prop=\"file\" label=\"附件\"></el-table-column>-->\r\n<!--      <el-table-column prop=\"appealContent\" label=\"申诉内容\"></el-table-column>-->\r\n      <el-table-column prop=\"appealTime\" label=\"申诉时间\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"viewAppealDetail(scope.row.appealOrder)\">查看详情</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :current-page=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"totalAppointments\"\r\n        @current-change=\"handlePageChange\"\r\n    ></el-pagination>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PatientAppealList',\r\n  data() {\r\n    return {\r\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'), // 当前用户信息\r\n      appealList: [], // 申诉列表数据\r\n      currentPage: 1, // 当前页码\r\n      pageSize: 10, // 每页显示条数\r\n      totalAppointments: 0, // 总条数\r\n      dialogVisible: false, // 详情对话框是否显示\r\n      selectedAppeal: {}, // 选中的申诉详情\r\n      loading: false, // 加载状态\r\n      error: '', // 错误信息\r\n      userId: this.$route.query.hospitalId, // 医院ID\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchAppealList(1); // 初始化加载申诉列表\r\n  },\r\n  methods: {\r\n    // 获取申诉列表\r\n    fetchAppealList(pageNumber) {\r\n      this.loading = true;\r\n      this.error = '';\r\n      this.currentPage = pageNumber;\r\n      const userId = this.$route.query.userId; // 获取医院ID\r\n\r\n      this.$request.get('/registration/patient-appeal', {\r\n        params: {\r\n          pageNum: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          userId: userId // 传递医院ID\r\n        }\r\n      })\r\n          .then(response => {\r\n            this.appealList = response.data.list;\r\n            this.total = response.data.total;\r\n          })\r\n          .catch(error => {\r\n            console.error('获取申诉列表失败', error);\r\n          });\r\n    },\r\n    handlePageChange(newPage) {\r\n      this.fetchTodayAppointments(newPage);\r\n    },\r\n    // 当前页码变化时触发\r\n    handleCurrentChange(newPage) {\r\n      this.currentPage = newPage;\r\n      this.fetchAppealList();\r\n    },\r\n    // 查看申诉详情\r\n    viewAppealDetail(appealOrder) {\r\n      console.log(appealOrder);\r\n      this.$router.push({\r\n        name: 'AppealDetail',\r\n        params: {\r\n          appealOrder: appealOrder\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.patient-appeal-list {\r\n  padding: 20px;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAqB;;;;;;uBAAhCC,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJC,mBAAA,UAAa,E,0BACbC,mBAAA,CAAe,YAAX,QAAM,sBACVD,mBAAA,QAAW,EACXE,YAAA,CAcWC,mBAAA;IAdAC,IAAI,EAAEC,KAAA,CAAAC,UAAU;IAAEC,MAAM,EAAN;;sBAC3B,MAAmE,CAAnEL,YAAA,CAAmEM,0BAAA;MAAlDC,IAAI,EAAC,aAAa;MAACC,KAAK,EAAC;QAC1CR,YAAA,CAAmEM,0BAAA;MAAlDC,IAAI,EAAC,aAAa;MAACC,KAAK,EAAC;QAChDV,mBAAA,4EAA2E,EAC3EA,mBAAA,8EAA6E,EAC7EA,mBAAA,0EAAyE,EACzEA,mBAAA,wEAAuE,EACvEA,mBAAA,mFAAkF,EAC5EE,YAAA,CAAkEM,0BAAA;MAAjDC,IAAI,EAAC,YAAY;MAACC,KAAK,EAAC;QACzCR,YAAA,CAIkBM,0BAAA;MAJDE,KAAK,EAAC;IAAI;MACdC,OAAO,EAAAC,QAAA,CAAEC,KAAK,KACvBX,YAAA,CAAwGY,oBAAA;QAA7FC,IAAI,EAAC,SAAS;QAACC,IAAI,EAAC,OAAO;QAAEC,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,gBAAgB,CAACP,KAAK,CAACQ,GAAG,CAACC,WAAW;;0BAAG,MAAIC,MAAA,QAAAA,MAAA,O,iBAAJ,MAAI,E;;;;;;;+BAIlGrB,YAAA,CAOiBsB,wBAAA;IANbC,UAAU,EAAV,EAAU;IACVC,MAAM,EAAC,mBAAmB;IACzB,cAAY,EAAErB,KAAA,CAAAsB,WAAW;IACzB,WAAS,EAAEtB,KAAA,CAAAuB,QAAQ;IACnBC,KAAK,EAAExB,KAAA,CAAAyB,iBAAiB;IACxBC,eAAc,EAAEZ,QAAA,CAAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}