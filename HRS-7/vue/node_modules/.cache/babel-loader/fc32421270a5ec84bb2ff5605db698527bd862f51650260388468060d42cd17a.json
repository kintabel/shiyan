{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"registration-detail\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"detail-info\"\n};\nconst _hoisted_5 = {\n  class: \"actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_descriptions_item = _resolveComponent(\"el-descriptions-item\");\n  const _component_el_descriptions = _resolveComponent(\"el-descriptions\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", null, \"挂号详情\", -1 /* HOISTED */)), _createCommentVNode(\" 加载状态 \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"加载中...\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 错误提示 \"), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 详情信息 \"), $data.detail ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_el_descriptions, {\n    column: 1,\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_descriptions_item, {\n      label: \"订单号\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.order), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"医院名称\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.hospitalName), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"科室名称\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.departmentName), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"医生姓名\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.doctorName), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"下单时间\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.orderTime), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"预约时间\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.registerTime), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"费用\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.price) + \" 元\", 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"患者姓名\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.userName), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"患者性别\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($data.detail.userGender), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"患者手机号\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($options.formatPhone($data.detail.userPhone)), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_descriptions_item, {\n      label: \"订单状态\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString($options.formatStatus($data.detail.status)), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 返回按钮 \"), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: $options.handleBack\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"返回\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","$data","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","detail","_hoisted_4","_createVNode","_component_el_descriptions","column","border","_component_el_descriptions_item","label","order","hospitalName","departmentName","doctorName","orderTime","registerTime","price","userName","userGender","$options","formatPhone","userPhone","formatStatus","status","_hoisted_5","_component_el_button","type","onClick","handleBack","_cache"],"sources":["E:\\专业设计项目\\HRS\\HRS-7\\vue\\src\\views\\doctor\\RegistrationDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"registration-detail\">\r\n    <h2>挂号详情</h2>\r\n\r\n    <!-- 加载状态 -->\r\n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n\r\n    <!-- 错误提示 -->\r\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n    <!-- 详情信息 -->\r\n    <div v-if=\"detail\" class=\"detail-info\">\r\n      <el-descriptions :column=\"1\" border>\r\n        <el-descriptions-item label=\"订单号\">{{ detail.order }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"医院名称\">{{ detail.hospitalName }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"科室名称\">{{ detail.departmentName }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"医生姓名\">{{ detail.doctorName }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"下单时间\">{{ detail.orderTime }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"预约时间\">{{ detail.registerTime }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"费用\">{{ detail.price }} 元</el-descriptions-item>\r\n        <el-descriptions-item label=\"患者姓名\">{{ detail.userName }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"患者性别\">{{ detail.userGender }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"患者手机号\">{{ formatPhone(detail.userPhone) }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"订单状态\">{{ formatStatus(detail.status) }}</el-descriptions-item>\r\n      </el-descriptions>\r\n    </div>\r\n\r\n    <!-- 返回按钮 -->\r\n    <div class=\"actions\">\r\n      <el-button type=\"primary\" @click=\"handleBack\">返回</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RegistrationDetail',\r\n  data() {\r\n    return {\r\n      detail: null, // 挂号详情信息\r\n      loading: false, // 加载状态\r\n      error: '' // 错误信息\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchDetail(); // 初始化加载详情信息\r\n  },\r\n  methods: {\r\n    // 获取挂号详情信息\r\n    fetchDetail() {\r\n      this.loading = true;\r\n      this.error = '';\r\n      const id = this.$route.params.id; // 从路由参数中获取挂号 ID\r\n      console.log(id);\r\n      this.$request.get('/registration/detail', {\r\n        params: { orderId:id }\r\n      })\r\n          .then(response => {\r\n            if (response.data) {\r\n              this.detail = response.data;\r\n            } else {\r\n              this.error = response.data.message || '获取详情失败';\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error('获取挂号详情失败:', error);\r\n            this.error = '获取挂号详情失败，请稍后重试';\r\n          })\r\n          .finally(() => {\r\n            this.loading = false;\r\n          });\r\n    },\r\n\r\n    // 格式化手机号（脱敏显示）\r\n    formatPhone(phone) {\r\n      if (phone && phone.length === 11) {\r\n        return phone.substring(0, 3) + '****' + phone.substring(7);\r\n      }\r\n      return phone;\r\n    },\r\n\r\n    // 格式化订单状态\r\n    formatStatus(status) {\r\n      switch (status) {\r\n        case 0:\r\n          return '待问诊';\r\n        case 1:\r\n          return '已问诊';\r\n        case 2:\r\n          return '已开药';\r\n        case 3:\r\n          return '已完成';\r\n        case 4:\r\n          return '已取消';\r\n        case 5:\r\n          return '复诊';\r\n        default:\r\n          return '未知状态';\r\n      }\r\n    },\r\n\r\n    // 返回上一页\r\n    handleBack() {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.registration-detail {\r\n  padding: 20px;\r\n}\r\n\r\n.loading,\r\n.error {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  font-size: 16px;\r\n  color: #666;\r\n}\r\n\r\n.error {\r\n  color: #f56c6c;\r\n}\r\n\r\n.detail-info {\r\n  margin-top: 20px;\r\n}\r\n\r\n.actions {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAqB;;;EAIVA,KAAK,EAAC;;;;EAGRA,KAAK,EAAC;;;;EAGLA,KAAK,EAAC;;;EAiBpBA,KAAK,EAAC;AAAS;;;;;uBA3BtBC,mBAAA,CA8BM,OA9BNC,UA8BM,G,0BA7BJC,mBAAA,CAAa,YAAT,MAAI,sBAERC,mBAAA,UAAa,EACFC,KAAA,CAAAC,OAAO,I,cAAlBL,mBAAA,CAAgD,OAAhDM,UAAgD,EAAZ,QAAM,K,mCAE1CH,mBAAA,UAAa,EACFC,KAAA,CAAAG,KAAK,I,cAAhBP,mBAAA,CAAiD,OAAjDQ,UAAiD,EAAAC,gBAAA,CAAdL,KAAA,CAAAG,KAAK,oB,mCAExCJ,mBAAA,UAAa,EACFC,KAAA,CAAAM,MAAM,I,cAAjBV,mBAAA,CAcM,OAdNW,UAcM,GAbJC,YAAA,CAYkBC,0BAAA;IAZAC,MAAM,EAAE,CAAC;IAAEC,MAAM,EAAN;;sBAC3B,MAA2E,CAA3EH,YAAA,CAA2EI,+BAAA;MAArDC,KAAK,EAAC;IAAK;wBAAC,MAAkB,C,kCAAfb,KAAA,CAAAM,MAAM,CAACQ,KAAK,iB;;;QACjDN,YAAA,CAAmFI,+BAAA;MAA7DC,KAAK,EAAC;IAAM;wBAAC,MAAyB,C,kCAAtBb,KAAA,CAAAM,MAAM,CAACS,YAAY,iB;;;QACzDP,YAAA,CAAqFI,+BAAA;MAA/DC,KAAK,EAAC;IAAM;wBAAC,MAA2B,C,kCAAxBb,KAAA,CAAAM,MAAM,CAACU,cAAc,iB;;;QAC3DR,YAAA,CAAiFI,+BAAA;MAA3DC,KAAK,EAAC;IAAM;wBAAC,MAAuB,C,kCAApBb,KAAA,CAAAM,MAAM,CAACW,UAAU,iB;;;QACvDT,YAAA,CAAgFI,+BAAA;MAA1DC,KAAK,EAAC;IAAM;wBAAC,MAAsB,C,kCAAnBb,KAAA,CAAAM,MAAM,CAACY,SAAS,iB;;;QACtDV,YAAA,CAAmFI,+BAAA;MAA7DC,KAAK,EAAC;IAAM;wBAAC,MAAyB,C,kCAAtBb,KAAA,CAAAM,MAAM,CAACa,YAAY,iB;;;QACzDX,YAAA,CAA4EI,+BAAA;MAAtDC,KAAK,EAAC;IAAI;wBAAC,MAAkB,C,kCAAfb,KAAA,CAAAM,MAAM,CAACc,KAAK,IAAG,IAAE,gB;;;QACrDZ,YAAA,CAA+EI,+BAAA;MAAzDC,KAAK,EAAC;IAAM;wBAAC,MAAqB,C,kCAAlBb,KAAA,CAAAM,MAAM,CAACe,QAAQ,iB;;;QACrDb,YAAA,CAAiFI,+BAAA;MAA3DC,KAAK,EAAC;IAAM;wBAAC,MAAuB,C,kCAApBb,KAAA,CAAAM,MAAM,CAACgB,UAAU,iB;;;QACvDd,YAAA,CAA8FI,+BAAA;MAAxEC,KAAK,EAAC;IAAO;wBAAC,MAAmC,C,kCAAhCU,QAAA,CAAAC,WAAW,CAACxB,KAAA,CAAAM,MAAM,CAACmB,SAAS,kB;;;QACnEjB,YAAA,CAA2FI,+BAAA;MAArEC,KAAK,EAAC;IAAM;wBAAC,MAAiC,C,kCAA9BU,QAAA,CAAAG,YAAY,CAAC1B,KAAA,CAAAM,MAAM,CAACqB,MAAM,kB;;;;;;6CAIpE5B,mBAAA,UAAa,EACbD,mBAAA,CAEM,OAFN8B,UAEM,GADJpB,YAAA,CAA4DqB,oBAAA;IAAjDC,IAAI,EAAC,SAAS;IAAEC,OAAK,EAAER,QAAA,CAAAS;;sBAAY,MAAEC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}