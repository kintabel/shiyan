{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"add-archive-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error\"\n};\nconst _hoisted_4 = {\n  slot: \"header\",\n  class: \"clearfix\"\n};\nconst _hoisted_5 = {\n  class: \"form-footer\"\n};\nconst _hoisted_6 = {\n  slot: \"footer\",\n  class: \"dialog-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 添加返回按钮 \"), _createVNode(_component_el_button, {\n    type: \"text\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.go(-1))\n  }, {\n    default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\"返回\")])),\n    _: 1 /* STABLE */\n  }), _cache[20] || (_cache[20] = _createElementVNode(\"h4\", null, \"住院信息管理\", -1 /* HOISTED */)), _createCommentVNode(\" 加载状态 \"), $data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"加载中...\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 错误提示 \"), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_el_form, {\n    ref: \"form\",\n    model: $data.form,\n    \"label-width\": \"120px\",\n    rules: $data.rules\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 基本信息部分 \"), _createVNode(_component_el_card, {\n      class: \"box-card\",\n      shadow: \"hover\"\n    }, {\n      default: _withCtx(() => [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n        slot: \"header\",\n        class: \"clearfix\"\n      }, [_createElementVNode(\"span\", null, \"基本信息\")], -1 /* HOISTED */)), _createVNode(_component_el_form_item, {\n        label: \"疾病诊断\",\n        prop: \"disease\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"textarea\",\n          rows: 2,\n          placeholder: \"请输入疾病诊断\",\n          modelValue: $data.form.disease,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.disease = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 手术信息部分 \"), _createVNode(_component_el_card, {\n      class: \"box-card\",\n      shadow: \"hover\",\n      style: {\n        \"margin-top\": \"20px\"\n      }\n    }, {\n      default: _withCtx(() => [_cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n        slot: \"header\",\n        class: \"clearfix\"\n      }, [_createElementVNode(\"span\", null, \"手术信息\")], -1 /* HOISTED */)), _createVNode(_component_el_form_item, {\n        label: \"手术信息\",\n        prop: \"surgery\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"textarea\",\n          rows: 2,\n          placeholder: \"请输入手术信息\",\n          modelValue: $data.form.surgery,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.surgery = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" 每日清单部分 \"), _createVNode(_component_el_card, {\n      class: \"box-card\",\n      shadow: \"hover\",\n      style: {\n        \"margin-top\": \"20px\"\n      }\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_cache[15] || (_cache[15] = _createElementVNode(\"span\", null, \"每日清单\", -1 /* HOISTED */)), _createVNode(_component_el_button, {\n        style: {\n          \"float\": \"right\",\n          \"padding\": \"3px 0\"\n        },\n        type: \"text\",\n        onClick: _cache[3] || (_cache[3] = $event => $data.showAddDailyDialog = true)\n      }, {\n        default: _withCtx(() => _cache[14] || (_cache[14] = [_createTextVNode(\" 添加今日清单 \")])),\n        _: 1 /* STABLE */\n      })]), _createVNode(_component_el_table, {\n        data: $data.dailyChecklists,\n        stripe: \"\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"date\",\n          label: \"日期\",\n          width: \"150\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"medicine\",\n          label: \"每日开药\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"transfusion\",\n          label: \"输液\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"surgery\",\n          label: \"手术安排\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"surgeryTime\",\n          label: \"手术时间\",\n          width: \"180\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"dailySituation\",\n          label: \"每日情况\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"cost\",\n          label: \"每日开销\",\n          width: \"100\"\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\"])]),\n      _: 1 /* STABLE */\n    }), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.submitForm\n    }, {\n      default: _withCtx(() => _cache[16] || (_cache[16] = [_createTextVNode(\"保存\")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n      onClick: $options.cancel\n    }, {\n      default: _withCtx(() => _cache[17] || (_cache[17] = [_createTextVNode(\"取消\")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\", \"rules\"]), _createCommentVNode(\" 添加每日清单对话框 \"), _createVNode(_component_el_dialog, {\n    title: \"添加今日清单\",\n    visible: $data.showAddDailyDialog,\n    width: \"50%\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $data.newDailyChecklist,\n      \"label-width\": \"120px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_row, {\n        gutter: 20\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"每日开药\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.newDailyChecklist.medicine,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.newDailyChecklist.medicine = $event),\n              placeholder: \"请输入药品及用量\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"输液\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.newDailyChecklist.transfusion,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.newDailyChecklist.transfusion = $event),\n              placeholder: \"请输入输液信息\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_row, {\n        gutter: 20\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"手术安排\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_input, {\n              modelValue: $data.newDailyChecklist.surgery,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.newDailyChecklist.surgery = $event),\n              placeholder: \"如有手术请填写\",\n              onChange: $options.handleSurgeryChange\n            }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        }), $data.newDailyChecklist.surgery && $data.newDailyChecklist.surgery.trim() !== '' ? (_openBlock(), _createBlock(_component_el_col, {\n          key: 0,\n          span: 12\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_form_item, {\n            label: \"手术时间\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n              modelValue: $data.newDailyChecklist.surgeryTime,\n              \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.newDailyChecklist.surgeryTime = $event),\n              type: \"datetime\",\n              placeholder: \"选择手术时间\",\n              \"value-format\": \"yyyy-MM-dd HH:mm:ss\"\n            }, null, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })) : _createCommentVNode(\"v-if\", true)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"每日情况\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"textarea\",\n          rows: 2,\n          placeholder: \"记录患者每日情况\",\n          modelValue: $data.newDailyChecklist.dailySituation,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.newDailyChecklist.dailySituation = $event)\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"每日开销\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input_number, {\n          modelValue: $data.newDailyChecklist.cost,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.newDailyChecklist.cost = $event),\n          precision: 2,\n          step: 0.1,\n          min: 0\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"]), _createElementVNode(\"span\", _hoisted_6, [_createVNode(_component_el_button, {\n      onClick: _cache[10] || (_cache[10] = $event => $data.showAddDailyDialog = false)\n    }, {\n      default: _withCtx(() => _cache[18] || (_cache[18] = [_createTextVNode(\"取消\")])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.handleAddDailyChecklist\n    }, {\n      default: _withCtx(() => _cache[19] || (_cache[19] = [_createTextVNode(\"确定\")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"visible\"])]);\n}","map":{"version":3,"names":["class","slot","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_el_button","type","onClick","_cache","$event","_ctx","$router","go","_createElementVNode","$data","isLoading","_hoisted_2","error","_hoisted_3","_toDisplayString","_component_el_form","ref","model","form","rules","_component_el_card","shadow","_component_el_form_item","label","prop","_component_el_input","rows","placeholder","disease","style","surgery","_hoisted_4","showAddDailyDialog","_component_el_table","data","dailyChecklists","stripe","_component_el_table_column","width","_hoisted_5","$options","submitForm","cancel","_component_el_dialog","title","visible","newDailyChecklist","_component_el_row","gutter","_component_el_col","span","medicine","transfusion","onChange","handleSurgeryChange","trim","_createBlock","_component_el_date_picker","surgeryTime","dailySituation","_component_el_input_number","cost","precision","step","min","_hoisted_6","handleAddDailyChecklist"],"sources":["E:\\专业设计项目\\HRS\\HRS-7\\vue\\src\\views\\doctor\\ArchiveAddDoctor.vue"],"sourcesContent":["<template>\r\n  <div class=\"add-archive-container\">\r\n    <!-- 添加返回按钮 -->\r\n    <el-button type=\"text\" @click=\"$router.go(-1)\">返回</el-button>\r\n    <h4>住院信息管理</h4>\r\n\r\n    <!-- 加载状态 -->\r\n    <div v-if=\"isLoading\" class=\"loading\">加载中...</div>\r\n\r\n    <!-- 错误提示 -->\r\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\r\n\r\n    <el-form ref=\"form\" :model=\"form\" label-width=\"120px\" :rules=\"rules\">\r\n      <!-- 基本信息部分 -->\r\n      <el-card class=\"box-card\" shadow=\"hover\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>基本信息</span>\r\n        </div>\r\n\r\n        <el-form-item label=\"疾病诊断\" prop=\"disease\">\r\n          <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"请输入疾病诊断\"\r\n              v-model=\"form.disease\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-card>\r\n\r\n      <!-- 手术信息部分 -->\r\n      <el-card class=\"box-card\" shadow=\"hover\" style=\"margin-top: 20px;\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>手术信息</span>\r\n        </div>\r\n        <el-form-item label=\"手术信息\" prop=\"surgery\">\r\n          <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"请输入手术信息\"\r\n              v-model=\"form.surgery\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-card>\r\n\r\n      <!-- 每日清单部分 -->\r\n      <el-card class=\"box-card\" shadow=\"hover\" style=\"margin-top: 20px;\">\r\n        <div slot=\"header\" class=\"clearfix\">\r\n          <span>每日清单</span>\r\n          <el-button\r\n              style=\"float: right; padding: 3px 0\"\r\n              type=\"text\"\r\n              @click=\"showAddDailyDialog = true\">\r\n            添加今日清单\r\n          </el-button>\r\n        </div>\r\n\r\n        <el-table :data=\"dailyChecklists\" stripe>\r\n          <el-table-column prop=\"date\" label=\"日期\" width=\"150\"></el-table-column>\r\n          <el-table-column prop=\"medicine\" label=\"每日开药\"></el-table-column>\r\n          <el-table-column prop=\"transfusion\" label=\"输液\"></el-table-column>\r\n          <el-table-column prop=\"surgery\" label=\"手术安排\"></el-table-column>\r\n          <el-table-column prop=\"surgeryTime\" label=\"手术时间\" width=\"180\"></el-table-column>\r\n          <el-table-column prop=\"dailySituation\" label=\"每日情况\"></el-table-column>\r\n          <el-table-column prop=\"cost\" label=\"每日开销\" width=\"100\"></el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n\r\n      <div class=\"form-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">保存</el-button>\r\n        <el-button @click=\"cancel\">取消</el-button>\r\n      </div>\r\n    </el-form>\r\n\r\n    <!-- 添加每日清单对话框 -->\r\n    <el-dialog title=\"添加今日清单\" :visible.sync=\"showAddDailyDialog\" width=\"50%\">\r\n      <el-form :model=\"newDailyChecklist\" label-width=\"120px\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"每日开药\">\r\n              <el-input v-model=\"newDailyChecklist.medicine\" placeholder=\"请输入药品及用量\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"输液\">\r\n              <el-input v-model=\"newDailyChecklist.transfusion\" placeholder=\"请输入输液信息\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"12\">\r\n            <el-form-item label=\"手术安排\">\r\n              <el-input v-model=\"newDailyChecklist.surgery\" placeholder=\"如有手术请填写\" @change=\"handleSurgeryChange\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"12\" v-if=\"newDailyChecklist.surgery && newDailyChecklist.surgery.trim() !== ''\">\r\n            <el-form-item label=\"手术时间\">\r\n              <el-date-picker\r\n                  v-model=\"newDailyChecklist.surgeryTime\"\r\n                  type=\"datetime\"\r\n                  placeholder=\"选择手术时间\"\r\n                  value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n              </el-date-picker>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <el-form-item label=\"每日情况\">\r\n          <el-input\r\n              type=\"textarea\"\r\n              :rows=\"2\"\r\n              placeholder=\"记录患者每日情况\"\r\n              v-model=\"newDailyChecklist.dailySituation\">\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"每日开销\">\r\n          <el-input-number v-model=\"newDailyChecklist.cost\" :precision=\"2\" :step=\"0.1\" :min=\"0\"></el-input-number>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"showAddDailyDialog = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleAddDailyChecklist\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { parseTime } from '@/utils'\r\n\r\nexport default {\r\n  name: 'ArchivesAddDoctor',\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      error: '',\r\n      showAddDailyDialog: false,\r\n      hospitalizationId: this.$route.query.hospitalizationId || '',\r\n      form: {\r\n        disease: '',\r\n        surgery: '',\r\n      },\r\n      dailyChecklists: [],\r\n      newDailyChecklist: {\r\n        hospitalizationIdOrinformationId: this.$route.query.hospitalizationId || '',\r\n        date: parseTime(new Date(), '{y}-{m}-{d}'),\r\n        medicine: '',\r\n        transfusion: '',\r\n        surgery: '',\r\n        surgeryTime: null,\r\n        dailySituation: '',\r\n        cost: 0\r\n      },\r\n      rules: {\r\n        disease: [\r\n          { required: true, message: '请输入疾病诊断', trigger: 'blur' }\r\n        ],\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    await this.fetchExistingData();\r\n  },\r\n  methods: {\r\n    // 获取已有数据\r\n    async fetchExistingData() {\r\n      this.isLoading = true;\r\n      this.error = '';\r\n      try {\r\n        // 获取疾病和手术信息\r\n        const infoRes = await this.$request.get(`doctor/information/getByHospitalizationId/${this.hospitalizationId}`);\r\n        if (infoRes.code == 200 && infoRes.data) {\r\n          this.form.disease = infoRes.data.disease || '';\r\n          this.form.surgery = infoRes.data.surgery || '';\r\n        }\r\n\r\n        // 获取全部每日清单\r\n        const dailyRes = await this.$request.get(`doctor/daily/getByHospitalizationId/${this.hospitalizationId}`);\r\n        if (dailyRes.code == 200 && dailyRes.data) {\r\n          this.dailyChecklists = dailyRes.data.map(item => ({\r\n            ...item,\r\n            date: item.date || parseTime(new Date(), '{y}-{m}-{d}'),\r\n            surgeryTime: item.surgeryTime || null\r\n          }));\r\n        }\r\n      } catch (error) {\r\n        console.error('获取数据失败:', error);\r\n        this.error = '获取数据失败，请稍后重试';\r\n      } finally {\r\n        this.isLoading = false;\r\n      }\r\n    },\r\n\r\n    // 处理手术安排变化\r\n    handleSurgeryChange() {\r\n      if (!this.newDailyChecklist.surgery || this.newDailyChecklist.surgery.trim() === '') {\r\n        this.newDailyChecklist.surgeryTime = null;\r\n      }\r\n    },\r\n\r\n    // 添加每日清单\r\n    async handleAddDailyChecklist() {\r\n      try {\r\n        // 检查今天是否已有记录\r\n        const todayRecord = this.dailyChecklists.find(item => item.date === this.newDailyChecklist.date);\r\n        if (todayRecord) {\r\n          this.$message.warning('今天已存在记录，请编辑现有记录');\r\n          return;\r\n        }\r\n\r\n        // 提交单个每日清单\r\n        const res = await this.$request.post('doctor/daily/add', {\r\n          ...this.newDailyChecklist\r\n        });\r\n\r\n        if (res.code == 200) {\r\n          this.$message.success('添加成功');\r\n          this.showAddDailyDialog = false;\r\n          await this.fetchExistingData(); // 重新加载全部清单\r\n        } else {\r\n          this.$message.error(res.message || '添加失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('添加失败:', error);\r\n        this.$message.error('添加失败，请稍后重试');\r\n      }\r\n    },\r\n\r\n\r\n    // 提交表单\r\n    async submitForm() {\r\n      try {\r\n        await this.$refs.form.validate();\r\n\r\n        // 提交基本信息\r\n        const infoRes = await this.$request.post('doctor/information/update', {\r\n          ...this.form,\r\n          hospitalizationId: this.hospitalizationId\r\n        });\r\n\r\n        if (infoRes.code !== 200) {\r\n          throw new Error(infoRes.message || '更新基本信息失败');\r\n        }\r\n\r\n        this.$message.success('保存成功');\r\n        this.$router.go(-1);\r\n      } catch (error) {\r\n        this.$message.error(error.message || '提交失败');\r\n        console.error('提交失败:', error);\r\n      }\r\n    },\r\n\r\n    // 取消\r\n    cancel() {\r\n      this.$router.go(-1);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.add-archive-container {\r\n  padding: 20px;\r\n}\r\n\r\n.loading,\r\n.error {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  font-size: 16px;\r\n  color: #666;\r\n}\r\n\r\n.error {\r\n  color: #f56c6c;\r\n}\r\n\r\n.box-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-footer {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}