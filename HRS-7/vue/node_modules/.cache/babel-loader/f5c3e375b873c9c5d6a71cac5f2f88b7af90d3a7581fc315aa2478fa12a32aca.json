{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'PrescribingAdministration',\n  data() {\n    return {\n      // 开药表单数据\n      prescriptionForm: {\n        drugName: '',\n        // 药品名称\n        quantity: 1,\n        // 药品数量\n        instructions: '' // 用药说明\n      },\n\n      // 已开药品列表\n      prescriptionList: []\n    };\n  },\n  methods: {\n    // 添加药品到列表\n    handleAddPrescription() {\n      if (!this.prescriptionForm.drugName || !this.prescriptionForm.instructions) {\n        this.$message.warning('请填写完整的药品信息');\n        return;\n      }\n      this.prescriptionList.push({\n        ...this.prescriptionForm\n      });\n      this.handleResetForm(); // 添加后重置表单\n    },\n\n    // 重置表单\n    handleResetForm() {\n      this.prescriptionForm = {\n        drugName: '',\n        quantity: 1,\n        instructions: ''\n      };\n    },\n    // 删除药品\n    handleDeletePrescription(row) {\n      this.prescriptionList = this.prescriptionList.filter(item => item.drugName !== row.drugName);\n      this.$message.success('删除成功');\n    },\n    // 提交开药\n    handleSubmitPrescription() {\n      if (this.prescriptionList.length === 0) {\n        this.$message.warning('请至少添加一种药品');\n        return;\n      }\n      this.$confirm('是否确认提交开药信息？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 模拟提交到后端\n        console.log('提交的药品列表:', this.prescriptionList);\n        this.$message.success('开药信息提交成功');\n        this.prescriptionList = []; // 清空列表\n      }).catch(() => {\n        this.$message.info('已取消提交');\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","prescriptionForm","drugName","quantity","instructions","prescriptionList","methods","handleAddPrescription","$message","warning","push","handleResetForm","handleDeletePrescription","row","filter","item","success","handleSubmitPrescription","length","$confirm","confirmButtonText","cancelButtonText","type","then","console","log","catch","info"],"sources":["src/views/doctor/Prescription.vue"],"sourcesContent":["<template>\r\n  <div class=\"prescribing-administration\">\r\n    <h2>开药管理</h2>\r\n\r\n    <!-- 开药表单 -->\r\n    <el-form :model=\"prescriptionForm\" label-width=\"120px\" class=\"prescription-form\">\r\n      <el-form-item label=\"药品名称\">\r\n        <el-input v-model=\"prescriptionForm.drugName\" placeholder=\"请输入药品名称\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"药品数量\">\r\n        <el-input-number v-model=\"prescriptionForm.quantity\" :min=\"1\" :max=\"100\"></el-input-number>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"用药说明\">\r\n        <el-input\r\n            type=\"textarea\"\r\n            v-model=\"prescriptionForm.instructions\"\r\n            placeholder=\"请输入用药说明\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleAddPrescription\">添加药品</el-button>\r\n        <el-button type=\"info\" @click=\"handleResetForm\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 已开药品列表 -->\r\n    <el-table :data=\"prescriptionList\" stripe class=\"prescription-table\">\r\n      <el-table-column prop=\"drugName\" label=\"药品名称\" width=\"180\"></el-table-column>\r\n      <el-table-column prop=\"quantity\" label=\"数量\" width=\"100\"></el-table-column>\r\n      <el-table-column prop=\"instructions\" label=\"用药说明\"></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" size=\"small\" @click=\"handleDeletePrescription(scope.row)\"\r\n          >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 提交按钮 -->\r\n    <div class=\"submit-section\">\r\n      <el-button type=\"success\" @click=\"handleSubmitPrescription\">提交开药</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PrescribingAdministration',\r\n  data() {\r\n    return {\r\n      // 开药表单数据\r\n      prescriptionForm: {\r\n        drugName: '', // 药品名称\r\n        quantity: 1, // 药品数量\r\n        instructions: '', // 用药说明\r\n      },\r\n      // 已开药品列表\r\n      prescriptionList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    // 添加药品到列表\r\n    handleAddPrescription() {\r\n      if (!this.prescriptionForm.drugName || !this.prescriptionForm.instructions) {\r\n        this.$message.warning('请填写完整的药品信息');\r\n        return;\r\n      }\r\n      this.prescriptionList.push({ ...this.prescriptionForm });\r\n      this.handleResetForm(); // 添加后重置表单\r\n    },\r\n\r\n    // 重置表单\r\n    handleResetForm() {\r\n      this.prescriptionForm = {\r\n        drugName: '',\r\n        quantity: 1,\r\n        instructions: '',\r\n      };\r\n    },\r\n\r\n    // 删除药品\r\n    handleDeletePrescription(row) {\r\n      this.prescriptionList = this.prescriptionList.filter(\r\n          (item) => item.drugName !== row.drugName\r\n      );\r\n      this.$message.success('删除成功');\r\n    },\r\n\r\n    // 提交开药\r\n    handleSubmitPrescription() {\r\n      if (this.prescriptionList.length === 0) {\r\n        this.$message.warning('请至少添加一种药品');\r\n        return;\r\n      }\r\n      this.$confirm('是否确认提交开药信息？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n      })\r\n          .then(() => {\r\n            // 模拟提交到后端\r\n            console.log('提交的药品列表:', this.prescriptionList);\r\n            this.$message.success('开药信息提交成功');\r\n            this.prescriptionList = []; // 清空列表\r\n          })\r\n          .catch(() => {\r\n            this.$message.info('已取消提交');\r\n          });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.prescribing-administration {\r\n  padding: 20px;\r\n}\r\n\r\n.prescription-form {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.prescription-table {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.submit-section {\r\n  text-align: right;\r\n}\r\n</style>"],"mappings":";AAkDA;EACAA,IAAA;EACAC,KAAA;IACA;MACA;MACAC,gBAAA;QACAC,QAAA;QAAA;QACAC,QAAA;QAAA;QACAC,YAAA;MACA;;MACA;MACAC,gBAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,sBAAA;MACA,UAAAN,gBAAA,CAAAC,QAAA,UAAAD,gBAAA,CAAAG,YAAA;QACA,KAAAI,QAAA,CAAAC,OAAA;QACA;MACA;MACA,KAAAJ,gBAAA,CAAAK,IAAA;QAAA,QAAAT;MAAA;MACA,KAAAU,eAAA;IACA;;IAEA;IACAA,gBAAA;MACA,KAAAV,gBAAA;QACAC,QAAA;QACAC,QAAA;QACAC,YAAA;MACA;IACA;IAEA;IACAQ,yBAAAC,GAAA;MACA,KAAAR,gBAAA,QAAAA,gBAAA,CAAAS,MAAA,CACAC,IAAA,IAAAA,IAAA,CAAAb,QAAA,KAAAW,GAAA,CAAAX,QACA;MACA,KAAAM,QAAA,CAAAQ,OAAA;IACA;IAEA;IACAC,yBAAA;MACA,SAAAZ,gBAAA,CAAAa,MAAA;QACA,KAAAV,QAAA,CAAAC,OAAA;QACA;MACA;MACA,KAAAU,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GACAC,IAAA;QACA;QACAC,OAAA,CAAAC,GAAA,kBAAApB,gBAAA;QACA,KAAAG,QAAA,CAAAQ,OAAA;QACA,KAAAX,gBAAA;MACA,GACAqB,KAAA;QACA,KAAAlB,QAAA,CAAAmB,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}