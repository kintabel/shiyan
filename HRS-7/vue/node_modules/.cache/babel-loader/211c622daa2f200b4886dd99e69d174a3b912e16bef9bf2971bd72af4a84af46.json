{"ast":null,"code":"export default {\n  name: 'Registration',\n  data() {\n    return {\n      doctor: null,\n      isLoading: true\n    };\n  },\n  created() {\n    const doctorId = this.$route.params.doctorId;\n    if (doctorId) {\n      this.fetchDoctorInfo(doctorId);\n    } else {\n      this.isLoading = false;\n    }\n  },\n  methods: {\n    fetchDoctorInfo(doctorId) {\n      this.$request.get('/doctor/selectDoctorById', {\n        params: {\n          doctorId\n        }\n      }).then(response => {\n        if (response.data) {\n          this.doctor = response.data;\n        } else {\n          console.error('获取医生详细信息失败:', response.data);\n          this.$message.error('获取医生详细信息失败，请稍后重试');\n        }\n      }).catch(error => {\n        console.error('获取医生详细信息失败:', error);\n        this.$message.error('获取医生详细信息失败，请稍后重试');\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n    getDoctorTitle(status) {\n      switch (status) {\n        case 1:\n          return '医师';\n        case 2:\n          return '副主治医师';\n        case 3:\n          return '主治医师';\n        case 4:\n          return '专家';\n        case 5:\n          return '急诊';\n        default:\n          return '未知职称';\n      }\n    },\n    getDates() {\n      const today = new Date();\n      const year = today.getFullYear();\n      const month = String(today.getMonth() + 1).padStart(2, '0');\n      const day = String(today.getDate()).padStart(2, '0');\n      return [`${year}-${month}-${day}`];\n    },\n    getPrice(status, time) {\n      // 这里可以根据职称和上下午设置不同的价格\n      switch (status) {\n        case 1:\n          return time === '上午' ? 50 : 40;\n        case 2:\n          return time === '上午' ? 80 : 70;\n        case 3:\n          return time === '上午' ? 100 : 90;\n        case 4:\n          return time === '上午' ? 150 : 120;\n        case 5:\n          return time === '上午' ? 60 : 50;\n        default:\n          return 0;\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","doctor","isLoading","created","doctorId","$route","params","fetchDoctorInfo","methods","$request","get","then","response","console","error","$message","catch","finally","getDoctorTitle","status","getDates","today","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","getPrice","time"],"sources":["src/views/manager/Registration.vue"],"sourcesContent":["<template>\r\n  <div class=\"registration-page\">\r\n    <div class=\"doctor-info\" v-if=\"doctor\">\r\n      <h2>{{ doctor.name }} - {{ getDoctorTitle(doctor.status) }}</h2>\r\n      <!-- 这里可以添加更多医生详细信息，如擅长领域、简介等 -->\r\n      <p>其他详细信息...</p>\r\n    </div>\r\n    <div class=\"registration-info\" v-if=\"doctor\">\r\n      <h2>挂号信息</h2>\r\n      <ul>\r\n        <li v-for=\"(date, index) in getDates()\" :key=\"index\">\r\n          {{ date }} - 上午 - 价格：{{ getPrice(doctor.status, '上午') }} 元\r\n        </li>\r\n        <li v-for=\"(date, index) in getDates()\" :key=\"index + 100\">\r\n          {{ date }} - 下午 - 价格：{{ getPrice(doctor.status, '下午') }} 元\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div v-else>\r\n      <p>未获取到医生信息，请稍后重试。</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Registration',\r\n  data() {\r\n    return {\r\n      doctor: null,\r\n      isLoading: true\r\n    };\r\n  },\r\n  created() {\r\n    const doctorId = this.$route.params.doctorId;\r\n    if (doctorId) {\r\n      this.fetchDoctorInfo(doctorId);\r\n    } else {\r\n      this.isLoading = false;\r\n    }\r\n  },\r\n  methods: {\r\n    fetchDoctorInfo(doctorId) {\r\n      this.$request.get('/doctor/selectDoctorById', {\r\n        params: { doctorId }\r\n      })\r\n          .then(response => {\r\n            if (response.data) {\r\n              this.doctor = response.data;\r\n            } else {\r\n              console.error('获取医生详细信息失败:', response.data);\r\n              this.$message.error('获取医生详细信息失败，请稍后重试');\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error('获取医生详细信息失败:', error);\r\n            this.$message.error('获取医生详细信息失败，请稍后重试');\r\n          })\r\n          .finally(() => {\r\n            this.isLoading = false;\r\n          });\r\n    },\r\n    getDoctorTitle(status) {\r\n      switch (status) {\r\n        case 1:\r\n          return '医师';\r\n        case 2:\r\n          return '副主治医师';\r\n        case 3:\r\n          return '主治医师';\r\n        case 4:\r\n          return '专家';\r\n        case 5:\r\n          return '急诊';\r\n        default:\r\n          return '未知职称';\r\n      }\r\n    },\r\n    getDates() {\r\n      const today = new Date();\r\n      const year = today.getFullYear();\r\n      const month = String(today.getMonth() + 1).padStart(2, '0');\r\n      const day = String(today.getDate()).padStart(2, '0');\r\n      return [`${year}-${month}-${day}`];\r\n    },\r\n    getPrice(status, time) {\r\n      // 这里可以根据职称和上下午设置不同的价格\r\n      switch (status) {\r\n        case 1:\r\n          return time === '上午' ? 50 : 40;\r\n        case 2:\r\n          return time === '上午' ? 80 : 70;\r\n        case 3:\r\n          return time === '上午' ? 100 : 90;\r\n        case 4:\r\n          return time === '上午' ? 150 : 120;\r\n        case 5:\r\n          return time === '上午' ? 60 : 50;\r\n        default:\r\n          return 0;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.registration-page {\r\n  padding: 20px;\r\n}\r\n\r\n.doctor-info {\r\n  height: 30%;\r\n  border-bottom: 1px solid #ccc;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.registration-info {\r\n  height: 70%;\r\n  padding-top: 20px;\r\n}\r\n</style>"],"mappings":"AAyBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,MAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,MAAAC,QAAA,QAAAC,MAAA,CAAAC,MAAA,CAAAF,QAAA;IACA,IAAAA,QAAA;MACA,KAAAG,eAAA,CAAAH,QAAA;IACA;MACA,KAAAF,SAAA;IACA;EACA;EACAM,OAAA;IACAD,gBAAAH,QAAA;MACA,KAAAK,QAAA,CAAAC,GAAA;QACAJ,MAAA;UAAAF;QAAA;MACA,GACAO,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAZ,IAAA;UACA,KAAAC,MAAA,GAAAW,QAAA,CAAAZ,IAAA;QACA;UACAa,OAAA,CAAAC,KAAA,gBAAAF,QAAA,CAAAZ,IAAA;UACA,KAAAe,QAAA,CAAAD,KAAA;QACA;MACA,GACAE,KAAA,CAAAF,KAAA;QACAD,OAAA,CAAAC,KAAA,gBAAAA,KAAA;QACA,KAAAC,QAAA,CAAAD,KAAA;MACA,GACAG,OAAA;QACA,KAAAf,SAAA;MACA;IACA;IACAgB,eAAAC,MAAA;MACA,QAAAA,MAAA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;QACA;UACA;MACA;IACA;IACAC,SAAA;MACA,MAAAC,KAAA,OAAAC,IAAA;MACA,MAAAC,IAAA,GAAAF,KAAA,CAAAG,WAAA;MACA,MAAAC,KAAA,GAAAC,MAAA,CAAAL,KAAA,CAAAM,QAAA,QAAAC,QAAA;MACA,MAAAC,GAAA,GAAAH,MAAA,CAAAL,KAAA,CAAAS,OAAA,IAAAF,QAAA;MACA,WAAAL,IAAA,IAAAE,KAAA,IAAAI,GAAA;IACA;IACAE,SAAAZ,MAAA,EAAAa,IAAA;MACA;MACA,QAAAb,MAAA;QACA;UACA,OAAAa,IAAA;QACA;UACA,OAAAA,IAAA;QACA;UACA,OAAAA,IAAA;QACA;UACA,OAAAA,IAAA;QACA;UACA,OAAAA,IAAA;QACA;UACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}