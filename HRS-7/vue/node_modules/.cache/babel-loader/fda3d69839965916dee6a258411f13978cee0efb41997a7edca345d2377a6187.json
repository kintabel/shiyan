{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'HealthArticles',\n  data() {\n    return {\n      articleList: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      currentHospital: '',\n      hospitalId: null\n    };\n  },\n  methods: {\n    getArticles() {\n      this.loading = true;\n      this.$request.get('/user/selectHealthArticlesPage', {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize,\n          hospitalId: this.hospitalId\n        }\n      }).then(response => {\n        if (response.code == 200) {\n          this.articleList = response.data.list;\n          this.total = response.data.total;\n        }\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    viewArticleDetail(row) {\n      this.$router.push({\n        name: 'UserArticleDetail',\n        params: {\n          id: row.id\n        }\n      });\n    },\n    handleCurrentChange(page) {\n      this.currentPage = page;\n      this.getArticles();\n    },\n    getHospitalName() {\n      this.$request.get('/hospital/getHospitalName', {\n        params: {\n          hospitalId: this.hospitalId\n        }\n      }).then(response => {\n        if (response.code == 200) {\n          this.currentHospital = response.data;\n        }\n      }).finally(() => {\n        this.loading = false;\n      });\n    }\n  },\n  created() {\n    this.hospitalId = this.$route.params.hospitalId;\n    this.getArticles();\n    this.getHospitalName();\n  }\n};","map":{"version":3,"names":["name","data","articleList","currentPage","pageSize","total","currentHospital","hospitalId","methods","getArticles","loading","$request","get","params","pageNum","then","response","code","list","finally","viewArticleDetail","row","$router","push","id","handleCurrentChange","page","getHospitalName","created","$route"],"sources":["src/views/user/HealthArticleList.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-card>\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <el-button\r\n            type=\"text\"\r\n            icon=\"el-icon-arrow-left\"\r\n            @click=\"$router.go(-1)\"\r\n        >返回医院列表</el-button>\r\n        <span style=\"margin-left: 20px\">{{ currentHospital }} - 健康科普文章</span>\r\n      </div>\r\n\r\n      <el-table\r\n          :data=\"articleList\"\r\n          style=\"width: 100%\"\r\n          @row-click=\"viewArticleDetail\"\r\n      >\r\n        <el-table-column prop=\"title\" label=\"文章标题\" />\r\n        <el-table-column prop=\"category\" label=\"分类\" width=\"120\" />\r\n        <el-table-column prop=\"publishTime\" label=\"发布时间\" width=\"160\" />\r\n      </el-table>\r\n\r\n      <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, prev, pager, next\"\r\n          :total=\"total\"\r\n          style=\"margin-top: 20px\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HealthArticles',\r\n  data() {\r\n    return {\r\n      articleList: [],\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0,\r\n      currentHospital: '',\r\n      hospitalId: null\r\n    };\r\n  },\r\n  methods: {\r\n    getArticles() {\r\n      this.loading = true;\r\n      this.$request.get('/user/selectHealthArticlesPage', {\r\n        params: {\r\n          pageNum: this.currentPage,\r\n          pageSize: this.pageSize,\r\n          hospitalId: this.hospitalId\r\n        }\r\n      })\r\n          .then(response => {\r\n            if (response.code == 200) {\r\n              this.articleList = response.data.list;\r\n              this.total = response.data.total;\r\n            }\r\n          })\r\n          .finally(() => {\r\n            this.loading = false;\r\n          });\r\n    },\r\n    viewArticleDetail(row) {\r\n      this.$router.push({\r\n        name: 'UserArticleDetail',\r\n        params: { id: row.id }\r\n      });\r\n    },\r\n    handleCurrentChange(page) {\r\n      this.currentPage = page;\r\n      this.getArticles();\r\n    },\r\n    getHospitalName() {\r\n      this.$request.get('/hospital/getHospitalName', {\r\n        params: {\r\n          hospitalId: this.hospitalId\r\n        }\r\n      })\r\n          .then(response => {\r\n            if (response.code == 200) {\r\n             this.currentHospital = response.data;\r\n            }\r\n          })\r\n          .finally(() => {\r\n            this.loading = false;\r\n          });\r\n    }\r\n  },\r\n  created() {\r\n    this.hospitalId = this.$route.params.hospitalId;\r\n    this.getArticles();\r\n    this.getHospitalName();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-table >>> tbody tr {\r\n  cursor: pointer;\r\n}\r\n</style>"],"mappings":";AAmCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,WAAA;MACAC,QAAA;MACAC,KAAA;MACAC,eAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,KAAAC,OAAA;MACA,KAAAC,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAC,OAAA,OAAAX,WAAA;UACAC,QAAA,OAAAA,QAAA;UACAG,UAAA,OAAAA;QACA;MACA,GACAQ,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACA,KAAAf,WAAA,GAAAc,QAAA,CAAAf,IAAA,CAAAiB,IAAA;UACA,KAAAb,KAAA,GAAAW,QAAA,CAAAf,IAAA,CAAAI,KAAA;QACA;MACA,GACAc,OAAA;QACA,KAAAT,OAAA;MACA;IACA;IACAU,kBAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAvB,IAAA;QACAa,MAAA;UAAAW,EAAA,EAAAH,GAAA,CAAAG;QAAA;MACA;IACA;IACAC,oBAAAC,IAAA;MACA,KAAAvB,WAAA,GAAAuB,IAAA;MACA,KAAAjB,WAAA;IACA;IACAkB,gBAAA;MACA,KAAAhB,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAN,UAAA,OAAAA;QACA;MACA,GACAQ,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACA,KAAAX,eAAA,GAAAU,QAAA,CAAAf,IAAA;QACA;MACA,GACAkB,OAAA;QACA,KAAAT,OAAA;MACA;IACA;EACA;EACAkB,QAAA;IACA,KAAArB,UAAA,QAAAsB,MAAA,CAAAhB,MAAA,CAAAN,UAAA;IACA,KAAAE,WAAA;IACA,KAAAkB,eAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}