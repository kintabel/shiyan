{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'NoticeHospitalList',\n  data() {\n    return {\n      hospitalList: [],\n      currentPage: 1,\n      pageSize: 10,\n      total: 0\n    };\n  },\n  methods: {\n    getHospitals() {\n      this.loading = true;\n      this.$request.get('/hospital/selectPage', {\n        params: {\n          pageNum: this.currentPage,\n          pageSize: this.pageSize\n        }\n      }).then(response => {\n        if (response.code == 200) {\n          this.hospitalList = response.data.list;\n          this.total = response.data.total;\n        }\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n    viewNotices(hospitalId) {\n      this.$router.push({\n        name: 'UserNotice',\n        params: {\n          hospitalId\n        }\n      });\n    },\n    handleCurrentChange(page) {\n      this.currentPage = page;\n      this.getHospitals();\n    }\n  },\n  mounted() {\n    this.getHospitals();\n  }\n};","map":{"version":3,"names":["name","data","hospitalList","currentPage","pageSize","total","methods","getHospitals","loading","$request","get","params","pageNum","then","response","code","list","finally","viewNotices","hospitalId","$router","push","handleCurrentChange","page","mounted"],"sources":["src/views/user/NoticeHospitalList.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-card>\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>医院公告列表</span>\r\n      </div>\r\n\r\n      <el-row :gutter=\"20\">\r\n        <el-col\r\n            v-for=\"hospital in hospitalList\"\r\n            :key=\"hospital.id\"\r\n            :span=\"8\"\r\n            style=\"margin-bottom: 20px\"\r\n        >\r\n          <el-card shadow=\"hover\" @click.native=\"viewNotices(hospital.id)\">\r\n            <div slot=\"header\">\r\n              <span style=\"font-weight: bold\">{{ hospital.name }}</span>\r\n            </div>\r\n            <div class=\"hospital-info\">\r\n              <div><i class=\"el-icon-location\"></i> {{ hospital.address }}</div>\r\n              <div><i class=\"el-icon-phone\"></i> {{ hospital.phone }}</div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-pagination\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"currentPage\"\r\n          :page-size=\"pageSize\"\r\n          layout=\"total, prev, pager, next\"\r\n          :total=\"total\"\r\n          style=\"margin-top: 20px\"\r\n      ></el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'NoticeHospitalList',\r\n  data() {\r\n    return {\r\n      hospitalList: [],\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      total: 0\r\n    };\r\n  },\r\n  methods: {\r\n    getHospitals() {\r\n      this.loading = true;\r\n      this.$request.get('/hospital/selectPage', {\r\n        params: {\r\n          pageNum: this.currentPage,\r\n          pageSize: this.pageSize\r\n        }\r\n      })\r\n          .then(response => {\r\n            if (response.code == 200) {\r\n              this.hospitalList = response.data.list;\r\n              this.total = response.data.total;\r\n            }\r\n          })\r\n          .finally(() => {\r\n            this.loading = false;\r\n          });\r\n    },\r\n    viewNotices(hospitalId) {\r\n      this.$router.push({\r\n        name: 'UserNotice',\r\n        params: { hospitalId }\r\n      });\r\n    },\r\n    handleCurrentChange(page) {\r\n      this.currentPage = page;\r\n      this.getHospitals();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getHospitals();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.hospital-info {\r\n  line-height: 1.8;\r\n  color: #666;\r\n}\r\n.hospital-info i {\r\n  margin-right: 5px;\r\n  color: #409EFF;\r\n}\r\n</style>"],"mappings":";AAuCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,WAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,KAAAC,OAAA;MACA,KAAAC,QAAA,CAAAC,GAAA;QACAC,MAAA;UACAC,OAAA,OAAAT,WAAA;UACAC,QAAA,OAAAA;QACA;MACA,GACAS,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,IAAA;UACA,KAAAb,YAAA,GAAAY,QAAA,CAAAb,IAAA,CAAAe,IAAA;UACA,KAAAX,KAAA,GAAAS,QAAA,CAAAb,IAAA,CAAAI,KAAA;QACA;MACA,GACAY,OAAA;QACA,KAAAT,OAAA;MACA;IACA;IACAU,YAAAC,UAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACArB,IAAA;QACAW,MAAA;UAAAQ;QAAA;MACA;IACA;IACAG,oBAAAC,IAAA;MACA,KAAApB,WAAA,GAAAoB,IAAA;MACA,KAAAhB,YAAA;IACA;EACA;EACAiB,QAAA;IACA,KAAAjB,YAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}